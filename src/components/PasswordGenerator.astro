---
// src/components/PasswordGenerator.astro
---
<!-- Password Generator Section -->
<div class="my-10 sm:my-14">
  <h4 class="mb-5 font-small text-gray-800 dark:text-neutral-200">Password Generator</h4>
  <div class="space-y-3">
    
    <!-- Password Length -->
    <dl class="flex flex-col sm:flex-row gap-1">
      <dt class="min-w-40">
        <label for="length" class="block text-sm text-gray-500 dark:text-neutral-500">Password Length:</label>
      </dt>
      <dd class="flex items-center gap-2">
        <input
          type="number"
          id="length"
          value="12"
          min="4"
          max="64"
          class="border border-gray-300 dark:border-neutral-700 p-2 rounded w-24 bg-white dark:bg-neutral-800 text-gray-800 dark:text-neutral-200"
        />
      </dd>
    </dl>

    <!-- Generate Button -->
    <dl class="flex flex-col sm:flex-row gap-1">
      <dt class="min-w-40">
        <span class="block text-sm text-gray-500 dark:text-neutral-500">Action:</span>
      </dt>
      <dd>
        <button
          id="generateBtn"
          class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm"
        >
          Generate
        </button>
      </dd>
    </dl>

    <!-- Output -->
    <dl class="flex flex-col sm:flex-row gap-1">
      <dt class="min-w-40">
        <span class="block text-sm text-gray-500 dark:text-neutral-500">Generated Password:</span>
      </dt>
      <dd>
        <span id="result" class="font-mono text-sm text-gray-800 dark:text-neutral-200 break-all"></span>
      </dd>
    </dl>
  </div>

  <!-- Inline JS to handle password generation -->
  <script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('generateBtn');
      btn.addEventListener('click', () => {
        const length = parseInt(document.getElementById('length').value);
        const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+";
        let password = "";
        for (let i = 0; i < length; i++) {
          const randomIndex = Math.floor(Math.random() * charset.length);
          password += charset[randomIndex];
        }
        document.getElementById("result").textContent = password;
      });
    });
  </script>
</div>
